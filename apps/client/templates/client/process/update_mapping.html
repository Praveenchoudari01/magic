{% extends "client/client_dashboard.html" %}
{% block content %}

<div class="container mt-4">
    <h3 class="fw-bold">Update Operator Mapping</h3>
    <hr>

    {% if toast_message %}
        <div class="alert alert-{{ toast_type }}">
            {{ toast_message }}
        </div>
    {% endif %}

    <form method="POST">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label">Process</label>
            <input type="text" class="form-control" value="{{ process.process_name }}" disabled>
        </div>

        <div class="mb-3">
            <label class="form-label">Select Operator</label>
            <select name="operator_id" class="form-select" required>
                <option value="">-- Select Operator --</option>
                {% for operator in operators %}
                    <option value="{{ operator.user_id }}"
                        {% if operator.user_id == mapping.operator.user_id %}selected{% endif %}>
                        {{ operator.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="d-flex gap-2 mt-3">
            <button type="submit" class="btn btn-primary">Update Mapping</button>
            <a href="{% url 'client:operator_process_list' process.process_id %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

{% endblock %}
